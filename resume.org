* Document setup :noexport:
# ==============================================================================
# DOCUMENT SETUP
# ==============================================================================
#+STARTUP: showeverything
#+LATEX_CLASS: article
#+LATEX_CLASS_OPTIONS: [10pt,a4paper]
#+OPTIONS: toc:nil num:nil date:nil title:nil author:nil prop:nil
#+HTML_HEAD: <style>body{font-family:'Segoe UI',Arial,sans-serif;max-width:800px;margin:0 auto;padding:20px;line-height:1.6;color:#333;}h1{color:#1f4e79;border-bottom:2px solid #1f4e79;text-align:center;}h2{color:#1f4e79;border-bottom:1px solid #1f4e79;}h3{color:#333;margin-top:1em;}ul{margin-left:20px;}li{margin-bottom:5px;}a{color:#1f4e79;text-decoration:none;}a:hover{text-decoration:underline;}.header{text-align:center;margin-bottom:2em;padding:20px;}.contact-info{color:#666;margin-top:10px;}.job-entry{border-left:3px solid #1f4e79;padding-left:15px;margin-bottom:20px;}</style>
#+LATEX_COMPILER: pdflatex

# ==============================================================================
# PACKAGE IMPORTS
# ==============================================================================
# Page layout and margins
#+LATEX_HEADER: \usepackage[margin=0.50in]{geometry}

# Color support for text and elements
#+LATEX_HEADER: \usepackage{xcolor}

# Section title formatting (section, subsection customization)
#+LATEX_HEADER: \usepackage{titlesec}

# List formatting (itemize, enumerate customization)
#+LATEX_HEADER: \usepackage{enumitem}

# FontAwesome icons for contact information
#+LATEX_HEADER: \usepackage{fontawesome5}

# Advanced table formatting (used in layout)
#+LATEX_HEADER: \usepackage{array}
#+LATEX_HEADER: \usepackage{tabularx}
#+LATEX_HEADER: \usepackage{calc}

# Font encoding for proper character support
#+LATEX_HEADER: \usepackage[utf8]{inputenc}
#+LATEX_HEADER: \usepackage[T1]{fontenc}
#+LATEX_HEADER: \usepackage{lmodern}

# Graphics and positioning for corner banner
#+LATEX_HEADER: \usepackage{tikz}
#+LATEX_HEADER: \usetikzlibrary{positioning}
#+LATEX_HEADER: \usepackage{etoolbox}

# ==============================================================================
# COLOR PALETTE
# ==============================================================================
# Professional color scheme for resume elements
# NOTE: Both lowercase and uppercase variants required (section titles use \MakeUppercase)

# Primary color: Headers, section titles, links (Professional Blue)
#+LATEX_HEADER: \definecolor{primary}{RGB}{37, 99, 149}
#+LATEX_HEADER: \definecolor{PRIMARY}{RGB}{37, 99, 149}

# Secondary color: Body text, page numbers (Dark Gray)
#+LATEX_HEADER: \definecolor{secondary}{RGB}{89, 89, 89}
#+LATEX_HEADER: \definecolor{SECONDARY}{RGB}{89, 89, 89}

# Accent color: Position titles, icons (Slate Blue)
#+LATEX_HEADER: \definecolor{accent}{RGB}{52, 73, 94}
#+LATEX_HEADER: \definecolor{ACCENT}{RGB}{52, 73, 94}

# Light color: Dates, periods (Medium Gray)
#+LATEX_HEADER: \definecolor{light}{RGB}{127, 140, 141}
#+LATEX_HEADER: \definecolor{LIGHT}{RGB}{127, 140, 141}

# Highlight color: Special emphasis (Teal)
#+LATEX_HEADER: \definecolor{highlight}{RGB}{22, 160, 133}
#+LATEX_HEADER: \definecolor{HIGHLIGHT}{RGB}{22, 160, 133}

# ==============================================================================
# TYPOGRAPHY AND PARAGRAPH SETTINGS
# ==============================================================================
# Use sans-serif font for modern, clean appearance
#+LATEX_HEADER: \renewcommand{\familydefault}{\sfdefault}

# Remove paragraph indentation and set minimal spacing
#+LATEX_HEADER: \setlength{\parindent}{0pt}
#+LATEX_HEADER: \setlength{\parskip}{0.05cm}

# ==============================================================================
# HEADER AND FOOTER CONFIGURATION
# ==============================================================================
# Setup fancy headers/footers for page numbers with compact page/total notation
#+LATEX_HEADER: \usepackage{fancyhdr}
#+LATEX_HEADER: \usepackage{lastpage}
#+LATEX_HEADER: \pagestyle{fancy}
#+LATEX_HEADER: \fancyhf{}
#+LATEX_HEADER: \fancyfoot[C]{\small\color{secondary}\thepage/\pageref{LastPage}}
#+LATEX_HEADER: \renewcommand{\headrulewidth}{0pt}
#+LATEX_HEADER: \renewcommand{\footrulewidth}{0pt}

# ==============================================================================
# SECTION AND SUBSECTION FORMATTING
# ==============================================================================
# Section titles: Large, bold, uppercase, with colored underline
# Uses configurable \resumesectionsize (defined below in Font Sizes section)
#+LATEX_HEADER: \titleformat{\section}{\resumesectionsize\bfseries\color{primary}\MakeUppercase}{}{0em}{}[\vspace{\sectionlineoffset}\textcolor{primary}{\rule{\linewidth}{0.8pt}}\vspace{0.02cm}]

# Subsection titles: Position/degree titles, inline with period
# Uses configurable \resumepositionsize (defined below in Font Sizes section)
#+LATEX_HEADER: \titleformat{\subsection}[runin]{\resumepositionsize\bfseries\color{accent}}{}{0em}{}[ \hfill ]

# Section spacing: Vertical space before/after sections
# Uses configurable \sectiontopspacing and \sectionbottomspacing
#+LATEX_HEADER: \titlespacing*{\section}{0pt}{\sectiontopspacing}{\sectionbottomspacing}

# Subsection spacing: Controls spacing for Experience and Education section entries
# Format: \titlespacing*{command}{left}{before-sep}{after-sep}
# Adjust before-sep (currently 0.15cm) to increase/decrease gap between Experience items
# Note: Education items have additional \educationitemspacing adjustment (defined above)
#+LATEX_HEADER: \titlespacing*{\subsection}{0pt}{0.18cm}{0.05cm}

# ==============================================================================
# LIST FORMATTING
# ==============================================================================
# Bullet point styling: Compact, colored bullets with minimal spacing
# Uses configurable \resumebullet, \resumedescriptionsize, \resumedescriptioncolor
#+LATEX_HEADER: \setlist[itemize]{leftmargin=0.8em,itemsep=0.01cm,parsep=0pt,topsep=0.02cm,label=\resumebullet,font=\resumedescriptionsize\color{\resumedescriptioncolor}}

# ==============================================================================
# HYPERLINK CONFIGURATION
# ==============================================================================
# All links use primary color for consistency
#+LATEX_HEADER: \hypersetup{colorlinks=true,linkcolor=primary,urlcolor=primary,citecolor=primary,filecolor=primary}

# ==============================================================================
# PERSONAL INFORMATION
# ==============================================================================
# Contact details and personal information used in resume header
# Modify these values to customize your resume

#+LATEX_HEADER: \newcommand{\resumename}{Shreyas Ragavan}
#+LATEX_HEADER: \newcommand{\resumesubtitle}{}
#+LATEX_HEADER: \newcommand{\resumeemail}{shreyas@fastmail.com}
#+LATEX_HEADER: \newcommand{\resumephone}{+1 279-258-9720 }
#+LATEX_HEADER: \newcommand{\resumelinkedin}{https://linkedin.com/in/shreyasragavan}
#+LATEX_HEADER: \newcommand{\resumewebsite}{https://shreyas.ragavan.co}
#+LATEX_HEADER: \newcommand{\resumegithub}{https://github.com/shrysr}
#+LATEX_HEADER: \newcommand{\resumelocation}{SF, USA}
#+LATEX_HEADER: \newcommand{\resumevisatext}{No Visa Sponsorship Required}

# ==============================================================================
# SPACING CONFIGURATION
# ==============================================================================
# Fine-grained control over vertical spacing throughout the resume

# Header spacing: Space between name and contact info, contact info elements
#+LATEX_HEADER: \newcommand{\namesubtitlespacing}{0.1cm}
#+LATEX_HEADER: \newcommand{\subtitlecontactspacing}{0.2cm}
#+LATEX_HEADER: \newcommand{\headerspacing}{\vspace{-0.4cm}}
#+LATEX_HEADER: \newcommand{\headercontactspacing}{\enspace}

# Section spacing: Space before/after main sections (SKILLS, EXPERIENCE, etc.)
#+LATEX_HEADER: \newcommand{\sectiontopspacing}{0.2cm}
#+LATEX_HEADER: \newcommand{\sectionbottomspacing}{0.02cm}
#+LATEX_HEADER: \newcommand{\sectionlineoffset}{-0.28cm}

# Education entry spacing: Additional vertical space adjustment between education items
# Negative values reduce spacing, positive values increase spacing
# Default: -0.15cm (compact spacing for education section)
#+LATEX_HEADER: \newcommand{\educationitemspacing}{-0.40cm}

# ==============================================================================
# HEADER COMPONENT ASSEMBLY
# ==============================================================================
# Individual header components with styling

# Name component: Large, bold, primary color
#+LATEX_HEADER: \newcommand{\headername}{{\huge\bfseries\color{primary}\resumename}}

# Subtitle component: Optional subtitle below name
#+LATEX_HEADER: \newcommand{\headersubtitle}{{\normalsize\color{secondary}\resumesubtitle}}

# Contact components: Icons with links/text
#+LATEX_HEADER: \newcommand{\headeremail}{\textcolor{accent}{\faEnvelope} \href{mailto:\resumeemail}{\resumeemail}}
#+LATEX_HEADER: \newcommand{\headerphone}{\textcolor{accent}{\faPhone} \resumephone}
#+LATEX_HEADER: \newcommand{\headerlinkedin}{\textcolor{accent}{\faLinkedin} \href{\resumelinkedin}{\textcolor{primary}{LinkedIn}}}
#+LATEX_HEADER: \newcommand{\headerwebsite}{\textcolor{accent}{\faGlobe} \href{\resumewebsite}{\textcolor{primary}{Website}}}
#+LATEX_HEADER: \newcommand{\headergithub}{\textcolor{accent}{\faGithub} \href{\resumegithub}{\textcolor{primary}{Github}}}
#+LATEX_HEADER: \newcommand{\headerlocation}{\textcolor{accent}{\faMapMarker*} \resumelocation}

# ==============================================================================
# CORNER BADGE CONFIGURATION
# ==============================================================================
# Configurable corner badge for visa/work status
# Badge appears as a small rectangular label in top right corner

# Badge styling
#+LATEX_HEADER: \newcommand{\badgefontsize}{7}
#+LATEX_HEADER: \newcommand{\badgexshift}{-0.3cm}
#+LATEX_HEADER: \newcommand{\badgeyshift}{-0.3cm}

# Corner badge implementation (only renders if \resumevisatext is not empty)
#+LATEX_HEADER: \newcommand{\visabanner}{%
#+LATEX_HEADER:   \ifdefempty{\resumevisatext}{}{%
#+LATEX_HEADER:   \begin{tikzpicture}[remember picture,overlay]
#+LATEX_HEADER:     \node[anchor=north east,xshift=\badgexshift,yshift=\badgeyshift,fill=accent!90,text=white,font=\fontsize{\badgefontsize}{8}\selectfont\bfseries,inner sep=3pt,outer sep=0pt,rounded corners=2pt] at (current page.north east) {\resumevisatext};
#+LATEX_HEADER:   \end{tikzpicture}%
#+LATEX_HEADER:   }%
#+LATEX_HEADER: }

# Final header assembly: Combines name and contact info with proper spacing
#+LATEX_HEADER: \AtBeginDocument{\visabanner\begin{center}\headername\vspace{\subtitlecontactspacing}\\{\small\headeremail \headercontactspacing$|$\headercontactspacing \headerphone \headercontactspacing$|$\headercontactspacing \headerlinkedin \headercontactspacing$|$\headercontactspacing \headerwebsite \headercontactspacing$|$\headercontactspacing \headergithub \headercontactspacing$|$\headercontactspacing \headerlocation}\end{center}\headerspacing}

#+OPTIONS: prop:t

# ==============================================================================
# RESUME FORMATTING CONFIGURATION
# ==============================================================================
# Customizable colors, separators, and visual elements for resume content

# Headline separator between title and company/institution
#+LATEX_HEADER: \newcommand{\resumeheadlinesep}{\textbar}

# Period/date styling: Color and font weight for dates
#+LATEX_HEADER: \newcommand{\resumeperiodcolor}{light}
#+LATEX_HEADER: \newcommand{\resumeperiodweight}{\small\textbf}

# Company/institution name color
#+LATEX_HEADER: \newcommand{\resumecompanycolor}{secondary}

# Bullet point symbol: Colored, scaled bullet for list items
#+LATEX_HEADER: \newcommand{\resumebullet}{\textcolor{primary}{\raisebox{0.2ex}{\scalebox{0.8}{$\bullet$}}}}

# ==============================================================================
# FONT SIZE CONFIGURATION
# ==============================================================================
# Hierarchical font sizes for different resume elements

# Section titles (SKILLS, EXPERIENCE, EDUCATION)
#+LATEX_HEADER: \newcommand{\resumesectionsize}{\Large}

# Position/degree titles
#+LATEX_HEADER: \newcommand{\resumepositionsize}{\large}

# Education degree name: ~10% smaller than \large (12pt)
# Adjust first number to customize (e.g., 10.8, 11, 11.5). Second number is line spacing.
#+LATEX_HEADER: \newcommand{\resumeeducationdegreesize}{\fontsize{11.0}{13}\selectfont}

# Education institution/location: Smaller than \small for compact appearance
# Adjust to customize (e.g., 8, 8.5, 9). Second number is line spacing.
#+LATEX_HEADER: \newcommand{\resumeeducationinstitutionsize}{\fontsize{8.5}{10}\selectfont}

# Bullet point description text
#+LATEX_HEADER: \newcommand{\resumedescriptionsize}{\normalsize}

# Compact text (used in some contexts)
#+LATEX_HEADER: \newcommand{\resumecompactsize}{\small}

# Text colors for descriptions and highlights
#+LATEX_HEADER: \newcommand{\resumedescriptioncolor}{secondary}
#+LATEX_HEADER: \newcommand{\resumehighlightcolor}{highlight}

# ==============================================================================
# HTML EXPORT CONFIGURATION
# ==============================================================================
# Styling properties for HTML export (mirrors LaTeX styling)

# Font sizes (em units for responsive scaling)
#+HTML_NAME_SIZE: 2.2em
#+HTML_SECTION_SIZE: 1.6em
#+HTML_POSITION_SIZE: 1.3em
#+HTML_DESCRIPTION_SIZE: 1.0em
#+HTML_COMPACT_SIZE: 0.9em
#+HTML_EDUCATION_INSTITUTION_SIZE: 0.85em

# Color palette (hex values matching LaTeX RGB colors)
#+HTML_PRIMARY_COLOR: #256395
#+HTML_COMPANY_COLOR: #595959
#+HTML_PERIOD_COLOR: #34495E
#+HTML_DESCRIPTION_COLOR: #595959
#+HTML_HIGHLIGHT_COLOR: #16A085

#+BEGIN_SRC emacs-lisp :exports results :results none :eval export
(defun resume-get-latex-command-value (command-name)
  "Extract the value from a LaTeX newcommand definition in current buffer."
  (save-excursion
    (goto-char (point-min))
    (when (re-search-forward (format "\\\\newcommand{\\\\%s}{\\([^}]*\\)}" command-name) nil t)
      (match-string 1))))

(defun resume-get-file-property (property-name)
  "Get a file-level property from the current org buffer."
  (save-excursion
    (goto-char (point-min))
    (when (re-search-forward (format "^#\\+%s: \\(.*\\)$" (upcase property-name)) nil t)
      (match-string 1))))

(defun resume-export-filter (text backend info)
  "Clean up property verbatim blocks and format headlines with company/period."
  (let ((name (or (resume-get-latex-command-value "resumename") "ERROR: resumename not defined"))
        (email (or (resume-get-latex-command-value "resumeemail") "ERROR: resumeemail not defined"))
        (phone (or (resume-get-latex-command-value "resumephone") "ERROR: resumephone not defined"))
        (linkedin (or (resume-get-latex-command-value "resumelinkedin") "ERROR: resumelinkedin not defined"))
        (website (or (resume-get-latex-command-value "resumewebsite") "ERROR: resumewebsite not defined"))
        (github (or (resume-get-latex-command-value "resumegithub") "ERROR: resumegithub not defined"))
        (html-name-size (or (resume-get-file-property "HTML_NAME_SIZE") "ERROR: HTML_NAME_SIZE not defined"))
        (html-section-size (or (resume-get-file-property "HTML_SECTION_SIZE") "ERROR: HTML_SECTION_SIZE not defined"))
        (html-position-size (or (resume-get-file-property "HTML_POSITION_SIZE") "ERROR: HTML_POSITION_SIZE not defined"))
        (html-description-size (or (resume-get-file-property "HTML_DESCRIPTION_SIZE") "ERROR: HTML_DESCRIPTION_SIZE not defined"))
        (html-compact-size (or (resume-get-file-property "HTML_COMPACT_SIZE") "ERROR: HTML_COMPACT_SIZE not defined"))
        (html-education-institution-size (or (resume-get-file-property "HTML_EDUCATION_INSTITUTION_SIZE") "ERROR: HTML_EDUCATION_INSTITUTION_SIZE not defined"))
        (html-primary-color (or (resume-get-file-property "HTML_PRIMARY_COLOR") "ERROR: HTML_PRIMARY_COLOR not defined"))
        (html-company-color (or (resume-get-file-property "HTML_COMPANY_COLOR") "ERROR: HTML_COMPANY_COLOR not defined"))
        (html-period-color (or (resume-get-file-property "HTML_PERIOD_COLOR") "ERROR: HTML_PERIOD_COLOR not defined"))
        (html-description-color (or (resume-get-file-property "HTML_DESCRIPTION_COLOR") "ERROR: HTML_DESCRIPTION_COLOR not defined"))
        (html-highlight-color (or (resume-get-file-property "HTML_HIGHLIGHT_COLOR") "ERROR: HTML_HIGHLIGHT_COLOR not defined")))
    (cond 
     ((eq backend 'latex)
      ;; Remove property verbatim blocks  
      (setq text (replace-regexp-in-string
                  "\\\\begin{verbatim}\n\\(COMPANY\\|INSTITUTION\\|PERIOD\\|LOCATION\\): \\([^\n]*\\)\n\\(\\([A-Z]+: [^\n]*\n\\)*\\)\\\\end{verbatim}"
                  "" text))
      
      ;; Format headlines using configurable colors
      (org-element-map (plist-get info :parse-tree) 'headline
        (lambda (headline)
          (let* ((level (org-element-property :level headline))
                 (title (org-element-interpret-data (org-element-property :title headline)))
                 (company (org-element-property :COMPANY headline))
                 (institution (org-element-property :INSTITUTION headline))  
                 (period (org-element-property :PERIOD headline))
                 (location (org-element-property :LOCATION headline)))
            (when (= level 2)
              (let ((org-name (or company institution))
                    (clean-title (string-trim title)))
                (when (and org-name period)
                  (let ((formatted-title
                         (if institution
                             ;; Education format: degree (natural width) | university, location (wrappable) | period (right-aligned)
                             ;; Uses \educationitemspacing for configurable spacing between education entries
                             (format "{\\\\resumeeducationdegreesize %s} \\\\textbar\\\\hspace{0.5em}\\\\parbox[t]{0.38\\\\linewidth}{{\\\\resumeeducationinstitutionsize\\\\textcolor{\\\\resumecompanycolor}{%s%s}}}\\\\hfill\\\\makebox[0.22\\\\linewidth][r]{\\\\textcolor{\\\\resumeperiodcolor}{\\\\resumeperiodweight{%s}}}\\\\vspace{\\\\educationitemspacing}"
                                     clean-title institution
                                     (if location (format ", %s" location) "")
                                     period)
                             ;; Experience format: original single line format
                             (format "%s \\\\textbar\\\\ \\\\textcolor{\\\\resumecompanycolor}{%s} \\\\hfill \\\\textcolor{\\\\resumeperiodcolor}{\\\\resumeperiodweight{%s}}"
                                     clean-title org-name period))))
                    (setq text (replace-regexp-in-string 
                                (format "\\\\subsection\\*{%s}" (regexp-quote clean-title))
                                (format "\\\\subsection*{%s}" formatted-title)
                                text))))))))))
     
     ((eq backend 'html)
      ;; Remove property drawer blocks for HTML
      (setq text (replace-regexp-in-string
                  "<pre class=\"example\">\n\\(COMPANY\\|INSTITUTION\\|PERIOD\\|LOCATION\\): [^\n]*\n\\([A-Z]+: [^\n]*\n\\)*</pre>"
                  "" text))
      
      ;; Add header and enhanced dynamic styles for HTML using configurable properties
      (unless (string-match "<div class=\"header\">" text)
        (let ((dynamic-styles (format "<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css\">\n<style>\nbody { font-family: 'Segoe UI', 'Calibri', Arial, sans-serif; line-height: 1.4; color: #333; }\nh1 { font-size: %s !important; color: %s !important; font-weight: bold; margin-bottom: 0.3em; }\nh2 { font-size: %s !important; color: %s !important; text-transform: uppercase; border-bottom: 2px solid %s; padding-bottom: 0.2em; margin-top: 1.2em; margin-bottom: 0.6em; }\n.outline-3 { margin-top: 0.2em !important; margin-bottom: 0.2em !important; }\nh3.position { margin-top: 0 !important; margin-bottom: 0 !important; }\n.position { font-size: %s !important; margin-top: 0.2em; margin-bottom: 0.2em; font-weight: 600; display: flex; align-items: flex-start; }\n.position .exp-left { display: inline-block; }\n.position .exp-period { display: inline-block; white-space: nowrap; margin-left: auto; }\n.position .edu-degree { flex-shrink: 0; }\n.position .edu-separator { flex-shrink: 0; color: #333; }\n.position .edu-institution { flex-grow: 1; min-width: 0; word-wrap: break-word; }\n.position .edu-period { flex-shrink: 0; }\nul { margin-top: 0.3em; margin-bottom: 0.8em; }\nul li { font-size: %s !important; color: %s !important; margin-bottom: 0.1em; line-height: 1.3; }\n.header { text-align: center; margin-bottom: 1.5em; padding: 1em; border-bottom: 2px solid %s; }\n.contact-info { font-size: %s !important; color: %s; margin-top: 0.5em; }\n.contact-info i { margin-right: 0.4em; color: %s; }\n.contact-info a { color: %s; text-decoration: none; }\n.contact-info a:hover { text-decoration: underline; }\n</style>" 
                                      html-name-size html-primary-color
                                      html-section-size html-primary-color html-primary-color
                                      html-position-size
                                      html-description-size html-description-color
                                      html-primary-color
                                      html-compact-size html-description-color
                                      html-period-color html-highlight-color)))
          (setq text (replace-regexp-in-string
                      "</head>"
                      (concat dynamic-styles "\n</head>")
                      text))
          (setq text (replace-regexp-in-string
                      "<div id=\"content\" class=\"content\">"
                      (concat "<div id=\"content\" class=\"content\">\n"
                              "<div class=\"header\">\n"
                              (format "<h1 style=\"color: %s;\">%s</h1>\n" html-primary-color name)
                              "<div class=\"contact-info\">\n"
                              (format "<i class=\"fas fa-envelope\"></i>%s | \n" email)
                              (format "<i class=\"fas fa-phone\"></i>%s | \n" phone)
                              (format "<i class=\"fab fa-linkedin\"></i><a href=\"%s\" style=\"color: %s;\">LinkedIn</a> | \n" linkedin html-highlight-color)
                              (format "<i class=\"fas fa-globe\"></i><a href=\"%s\" style=\"color: %s;\">Website</a> | \n" website html-highlight-color)
                              (format "<i class=\"fab fa-github\"></i><a href=\"%s\" style=\"color: %s;\">GitHub</a>\n" github html-highlight-color)
                              "</div>\n"
                              "</div>")
                      text))))
      
      ;; Format experience and education headlines for HTML using config
      (org-element-map (plist-get info :parse-tree) 'headline
        (lambda (headline)
          (let* ((level (org-element-property :level headline))
                 (title (org-element-interpret-data (org-element-property :title headline)))
                 (company (org-element-property :COMPANY headline))
                 (institution (org-element-property :INSTITUTION headline))  
                 (period (org-element-property :PERIOD headline))
                 (location (org-element-property :LOCATION headline)))
            (when (= level 2)
              (let ((org-name (or company institution))
                    (clean-title (string-trim title)))
                (when (and org-name period)
                  (let ((html-title
                         (if institution
                             ;; Education format: degree (natural width) | university, location (wrappable) | period (right-aligned)
                             (format "<div class=\"edu-degree\" style=\"flex: 0 0 auto; font-size: %s; white-space: nowrap; align-self: flex-start;\">%s</div><div class=\"edu-separator\" style=\"flex: 0 0 auto; padding: 0 0.5em; align-self: flex-start;\">|</div><div class=\"edu-institution\" style=\"flex: 1 1 auto; min-width: 0; padding-right: 1em; align-self: flex-start;\"><span class=\"company\" style=\"color: %s; font-size: %s;\">%s%s</span></div><div class=\"edu-period\" style=\"flex: 0 0 auto; text-align: right; color: %s; font-size: %s; font-weight: bold; white-space: nowrap; align-self: flex-start; min-width: 9em;\">%s</div>"
                                     html-position-size clean-title html-company-color html-education-institution-size institution
                                     (if location (format ", %s" location) "")
                                     html-period-color html-compact-size period)
                             ;; Experience format: Title | Company â†’ Period (right aligned, small+bold)
                             (format "<div class=\"exp-left\">%s | <span class=\"company\" style=\"color: %s;\">%s</span></div><div class=\"exp-period\" style=\"color: %s; font-size: %s; font-weight: bold;\">%s</div>"
                                     clean-title html-company-color org-name html-period-color html-compact-size period))))
                    (setq text (replace-regexp-in-string 
                                (format "<h3[^>]*>%s</h3>" (regexp-quote clean-title))
                                (format "<h3 class=\"position\" style=\"font-size: %s;\">%s</h3>" 
                                        html-position-size html-title)
                                text)))))))))))
    text))

(add-to-list 'org-export-filter-final-output-functions 'resume-export-filter)
#+END_SRC

* SUMMARY

Engineer with 13+ years bridging technical execution and business value across manufacturing, energy, and financial services. Combines engineering design and technical sales background to architect production GenAI and MLOps systems on GCP (RAG solutions, custom frameworks), translating stakeholder requirements into deployable products through cross-functional collaboration.

* SKILLS

- *Machine Learning & AI:* Python, R, PyTorch, Generative AI, LLMs, Statistical Modeling, Hyperparameter Tuning
- *MLOps & Cloud:* GCP (Vertex AI, BigQuery, Looker, AlloyDB), Kubernetes (KFP), Docker, CI/CD, Airflow, Observability (Cloud Logger, Cloud Traces)
- *Data Engineering:* ETL Pipelines, Data Modeling, SQL, DuckDB, Data Governance (Collibra)
- *Core Technologies:* Git, Bash, Linux, Java, HTML, CSS

* EXPERIENCE

** Machine Learning Operations (MLOps) Engineer
   :PROPERTIES:
   :COMPANY: Definity Financial
   :PERIOD: Jun 2022 - Present
   :LOCATION: Vancouver, Canada
   :END:

- Lead developer of 3+ production AI products serving *160k+ requests/day* to LLM's via Vertex AI, with Looker, Cloud Logger, and Cloud Traces for observability; established design patterns and documentation ensuring long-term maintainability.

- Lead maintainer of a RAG-based live agent assistance solution with 15+ model variants, call summarization, and topic modeling systems processing *8k+ calls*; introduced test-driven development and quality auditing practices, streamlining debugging and stakeholder alignment.

- Accelerated development with AI-assisted code refactoring (reducing *months to 1 week*), reusable ML frameworks, and CI/CD pipelines, saving *200+ hours* per project while mentoring junior engineers on best practices.

** Analytics Engineer
   :PROPERTIES:
   :COMPANY: ReachStack
   :PERIOD: Oct 2020 - May 2022
   :LOCATION: Vancouver, Canada
   :END:
- Proposed, developed, and deployed R (Shiny) dashboard with 30+ interactive charts using plotly/ggplot2, containerized with Docker on open-source Shiny server, enabling self-service KPI monitoring.
- Engineered automated data pipelines and self-service apps reducing report generation time by *90% (from 7 hours to <1 hour per request)*; developed K-Means clustering model for customer engagement analysis.
- Designed analytics architecture blueprint and evaluated BI solutions for product requirements; maintained production systems using SQL, Java, Python, HTML/CSS for debugging and feature development.

** Data Science Consultant
   :PROPERTIES:
   :COMPANY: Self-employed
   :PERIOD: Nov 2019 - Oct 2020
   :LOCATION: Vancouver, Canada
   :END:
- Developed a mortgage lead scoring dashboard (R) with a GLM optimized through hyperparameter tuning, improving MAE by *25%* over baseline linear regression and reducing analysis time by *30 minutes per lead (~700 hours/month)*.

** Design Engineer
   :PROPERTIES:
   :COMPANY: Clear Rush Co
   :PERIOD: Aug 2018 - Nov 2019
   :LOCATION: Alberta, Canada
   :END:
- Led implementation of an open-source ERP system (ERPNext) with R-based ETL pipeline, replacing manual workflows with data-driven processes spanning sales, manufacturing, and CRM.

** Application Engineer
   :PROPERTIES:
   :COMPANY: Zeeco Inc
   :PERIOD: Aug 2015 - Aug 2017
   :LOCATION: Mumbai Area, India
   :END:
- Established local technical sales capability for combustion equipment in oil & gas sector; developed techno-commercial proposals ($10k-$1M) involving parametric sizing, cost optimization, and data-driven pricing strategies.

** Research Engineer
   :PROPERTIES:
   :COMPANY: Wilo SE
   :PERIOD: Apr 2012 - Aug 2015
   :LOCATION: Pune, India
   :END:
- Optimized centrifugal pump hydraulics through simulations and experimental data analysis; built Python-based scheduler achieving *75% runtime reduction* and 100% license utilization for computational workflows.
- Automated simulation post-processing and reporting workflows, saving *300+ hours/month* in analysis and data transfer time.

* EDUCATION

** MS. Advanced Mechanical Engineering
   :PROPERTIES:
   :INSTITUTION: University of Leeds
   :PERIOD: Sep 2010 - Nov 2011
   :LOCATION: United Kingdom
   :END:

** B.Tech. Automotive Design Engineering
   :PROPERTIES:
   :INSTITUTION: University of Petroleum \\& Energy Studies
   :PERIOD: Aug 2006 - Jun 2010
   :LOCATION: India
   :END:
   

   
